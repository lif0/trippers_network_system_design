<h1 align="center">Trippers Network - System Design(<a href="/">eng</a> | <a href="/docs/README_ru.md">ru</a>)</h1>
<div align="center">Trippers.net - социальная сеть для путешественников</div>
<br>

### Функциональные требования
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников;

### Нефункциональные требования
<ul>
<li>DAU 10 000 000</li>
<li>Availability: 99.9%(4h 23m) per year</li>
<li>Локация использования - весь мир</li>
<li>Сезонность: летом туризм идет активнее в 2 раза</li>
<li>Публикации храним - всегда</li>
<li>Кол-во подписок/подписчиков - без ограничений</li>
<li>Один пост - одна фотография</li>
<li>Пост:
<ul>
- Фотография: 1mb<br>
- Описание: 200 символов(utf-8)<br>
- Локация: Идентификатор локакции
- Кол-во реакций: 4 байта
</ul></li>
<li>Локация: Широта+Долгота+Радиус</li>
<li>Комментарий: 140 символов(utf-8)</li>
<li>Реация: Реакция(1 байт) + идентификатор поста (16 байт)</li>
<li></li>
<li>Получать ленту - не более, чем за 5 секунд</li>
<li>Выгрузка ленты юзера: по <b>20 постов</b></li>
<li>Выгрузка популярных мест: по <b>10 локаций</b></li>
<li>Выгрузка постов с популярных мест: по <b>20 штук</b></li>
<li>Выгрузка комментариев с поста: по <b>20 штук</b></li>
<li>Юзер смотрит ленту 5 раза в день</li>
<li>Юзер грузит 1 пост раз в 5 дней</li>
<li>Юзер читает комментарии только у одного поста в день</li>
<li>Юзер оставляет по 1 комментарию в день</li>
<li>Юзер оставляет реакции на 3 поста в день</li>
</ul>

### Оценка нагрузки
<ul>
<li>Пост:
<ul>
- RPS(write): DAU * (1/5) / 86400 = ~23rps<br>
- RPS(read): DAU * 5 / 86400 = ~580rps<br>
<br>
- Traffic(text write): 25 * ( 200(описание) * ~2(utf8) + 4(locationID)) = ~10kb/s<br>
- Traffic(text read): 580 * (200 * ~2(utf8) + 4(locationID) + 4(кол-во реакций)) = ~231kb/s<br>
<br>
- Traffic(media write): 25 * 1mb = ~25mb/s<br>
- Traffic(media read): 580 * 1mb = ~580mb/s<br>
</ul></li>
<li>Комментарий:
<ul>
- RPS(write): DAU * 1 / 86400 = ~115rps<br>
- RPS(read): DAU * 1 / 86400 = ~115rps<br>
<br>
- Traffic(write): 115 * 1 *(140 * ~2(utf8)) = ~31kb/s<br>
- Traffic(read): 115 * 20 * (140 * ~2(utf8)) = ~628kb/s<br>
</ul></li>
<li>Реакции:
<ul>
- RPS(write): DAU * 3 / 86400 = ~347rps<br>
<br>
- Traffic(write): 347 * 16(идентификатор поста) = ~5.4kb/s<br>
</ul></li>
</ul>

### Расчет одновременных соединений
<ul>
<li>Connections: DAU * 0.1 = ~1 000 000 </li>
</ul>